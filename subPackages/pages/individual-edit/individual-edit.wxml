<!--pages/individual-edit/individual-edit.wxml-->

<view class="container">
  <!-- 头像部分 -->
  <view class="avatar-section">
    <button class="avatar-wrapper" open-type="chooseAvatar" bind:chooseavatar="chooseAvatar">
      <image class="avatar" src="{{faceSrc}}" mode="aspectFill"></image>
    </button>
  </view>

  <!-- 信息列表 -->
  <view class="info-list">
    <!-- 昵称 -->
    <view class="info-item">
      <text class="label">昵称</text>
      <input class="input" value="{{infoList[0].content}}" bindinput="changeNickname" placeholder="请输入昵称" />
    </view>

    <!-- 校区 -->
    <view class="info-item">
      <text class="label">校区</text>
      <picker mode="selector" range="{{list[0]}}" bindchange="changeSchoolGrade" data-set="1">
        <view class="picker {{infoList[1].content ? '' : 'placeholder'}}">
          {{infoList[1].content || '请选择校区'}}
        </view>
      </picker>
    </view>

    <!-- 年级 -->
    <view class="info-item">
      <text class="label">年级</text>
      <picker mode="selector" range="{{list[1]}}" bindchange="changeSchoolGrade" data-set="2">
        <view class="picker {{infoList[2].content ? '' : 'placeholder'}}">
          {{infoList[2].content || '请选择年级'}}
        </view>
      </picker>
    </view>

    <!-- 学院 -->
    <view class="info-item">
      <text class="label">学院</text>
      <picker mode="selector" range="{{institutes}}" bindchange="changeInstitute">
        <view class="picker {{infoList[3].content ? '' : 'placeholder'}}">
          {{infoList[3].content || '请选择学院'}}
        </view>
      </picker>
    </view>

    <!-- 专业 -->
    <view class="info-item">
      <text class="label">专业</text>
      <picker mode="selector" range="{{majors[intituteIndex]}}" bindchange="changeMajor">
        <view class="picker {{infoList[4].content ? '' : 'placeholder'}}">
          {{infoList[4].content || '请选择专业'}}
        </view>
      </picker>
    </view>

    <!-- 邮箱 -->
    <view class="info-item">
      <text class="label">邮箱</text>
      <input class="input" type="text" value="{{infoList[5].content}}" bindinput="changeEmail" placeholder="请输入邮箱" />
    </view>

    <!-- 手机号 -->
    <view class="info-item">
      <text class="label">手机号</text>
      <input class="input" type="number" value="{{infoList[6].content}}" bindinput="changePhone" placeholder="请输入手机号" />
    </view>
  </view>

  <!-- 保存按钮 -->
  <view class="button-section">
    <button class="save-btn" bindtap="onSave">保存</button>
  </view>
</view>